<!DOCTYPE HTML>
<html th:replace="~{/layout/defaultLayout :: layout(~{::menuTitle}, ~{::sidebar}, ~{::mainSection})}" xmlns:th="http://www.thymeleaf.org">
<head></head>
<body>

<menuTitle>내 쿠폰</menuTitle>
<sidebar class="list-group-item sidebar-link"><a th:href="@{/}" style="all: unset;">내 정보</a></sidebar>
<sidebar class="list-group-item sidebar-link"><a th:href="@{/}" style="all: unset;">내 독후활동지</a></sidebar>
<sidebar class="list-group-item sidebar-link"><a th:href="@{/}" style="all: unset;">내 출제 요청</a></sidebar>
<sidebar class="list-group-item sidebar-link active"><a th:href="@{/coupon/myCoupon}" style="all: unset;">내 쿠폰</a></sidebar>
<sidebar class="list-group-item sidebar-link"><a th:href="@{/}" style="all: unset;">내 결제</a></sidebar>

<mainSection>
  <div class="text-center">
    <button onclick="couponBuy()" class="btn btn-primary">쿠폰 구입</button>
  </div>

  <hr class="my-4">

  <div>
    <table class="table">
      <thead>
        <tr>
          <th>No.</th>
          <th>쿠폰</th>
          <th>잔여 개수</th>
          <th>구입일</th>
          <th>만료일</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="coupon : ${couponList}">
          <td th:text="${coupon.couponNo}">2</td>
          <td>북키타카 쿠폰</td>
          <td th:text="${coupon.couponLeft}">11</td>
          <td th:text="${coupon.couponStartdate}">1112.11.10</td>
          <td th:text="${coupon.couponEnddate}">만료됨</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="pagination">
    <ul class="pagination justify-content-center">
      <li class="page-item" th:if="${pageInfo.hasPreviousPage}">
        <a class="page-link" th:href="@{/coupon/list(pageNum=${pageInfo.pageNum - 1}, amount=${pageInfo.amount})}">&laquo;</a>
      </li>
      <li th:each="pageNum : ${pageInfo.getPageList()}" th:class="${pageNum} == ${pageInfo.pageNum} ? 'page-item page-disabled active' : 'page-item'">
        <a class="page-link" th:href="@{/coupon/list(pageNum=${pageNum}, amount=${pageInfo.amount})}" th:text="${pageNum}"></a>
      </li>
      <li class="page-item" th:if="${pageInfo.hasNextPage}">
        <a class="page-link" th:href="@{/coupon/list(pageNum=${pageInfo.pageNum + 1}, amount=${pageInfo.amount})}">&raquo;</a>
      </li>
    </ul>
  </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

  <script>
    function couponBuy() {
      window.location.href = "/coupon/buy";
    }
  </script>

</mainSection>
</body>
</html>